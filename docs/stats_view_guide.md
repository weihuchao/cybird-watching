# 观鸟统计界面使用指南

## 功能概述

数据界面提供了观鸟统计信息的可视化展示，用户可以查看已解锁的小鸟及其遇见次数。

## 手势操作说明

### 主界面手势

#### 左右摇晃
- **功能**: 随机触发小鸟
- **逻辑**: 随机选择一只小鸟并显示，**增加次数**
- **冷却**: 10秒
- **说明**: 唯一触发新鸟的方式

### 数据界面手势

#### 进入数据界面
- **手势**: 前倾保持3秒
- **效果**: 进入数据界面，动画停止渲染

### 退出数据界面
- **手势**: 后倾保持3秒
- **效果**: 退出数据界面，返回观鸟界面

### 页面切换
- **左倾**: 上一页
- **右倾**: 下一页

## 界面布局

### 标题区域
- 顶部居中显示"观鸟统计"

### 内容区域
显示5行小鸟信息，每行显示规则：
- **已解锁小鸟**: `{小鸟id}. {小鸟名字} x {遇见次数}`
  - 示例: `1001. 麻雀 x 5`
- **未解锁小鸟**: `？？？`

### 导航区域
- 左下角: "上一页"
- 右下角: "下一页"
- 颜色提示:
  - 白色: 可用
  - 灰色: 不可用（已在首页/末页）

## 数据排序

小鸟按ID顺序从1001开始排列，每页显示5只小鸟。

## 手势总结

| 手势 | 功能 | 是否计数 | 冷却时间 | 说明 |
|------|------|----------|----------|------|
| 左右摇晃 | 随机触发新小鸟 | ✅ 是 | 10秒 | 唯一触发新鸟的方式 |
| 前倾保持3秒 | 进入数据界面 | - | - | 查看统计信息 |
| 后倾保持3秒 | 退出数据界面 | - | - | 返回观鸟界面 |
| 左倾 | 上一页 | - | - | 仅在数据界面有效 |
| 右倾 | 下一页 | - | - | 仅在数据界面有效 |

## 技术实现

### 核心类
- `StatsView`: 统计界面视图类
- `BirdManager`: 观鸟管理器，集成统计界面
- `BirdStatistics`: 统计数据管理

### 手势检测
- `IMU`: 扩展支持持续手势检测（3秒保持）
- 新增手势类型:
  - `GESTURE_FORWARD_HOLD`: 前倾保持3秒
  - `GESTURE_BACKWARD_HOLD`: 后倾保持3秒
  - `GESTURE_LEFT_TILT`: 左倾
  - `GESTURE_RIGHT_TILT`: 右倾

## 注意事项

1. 进入统计界面后，小鸟动画会自动停止
2. 统计界面显示时，触发小鸟的手势将被忽略
3. 统计数据自动定期保存到SD卡
4. 字体使用 Noto Sans SC 支持中文显示
5. 首次启动时：有历史记录则随机显示已遇见的小鸟（不计数），无历史记录则触发新小鸟（计数）
6. **只有左右摇晃手势会触发新鸟并增加次数**
